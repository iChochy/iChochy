---
title: VIM 入门，学会必备的操作命令，模式选择、文本编辑
comments: true
date: 2021-11-22 19:25:45 +0800
author: MLeo
categories: [vim] 
tags: [vim, bash, java] 
---

VIM 是一个命令文本编辑工具，熟练后可以方便、快捷的完成文体操作，快、快、快、没有更快


## VIM 使用
`vim filename……`打开文本进入`VIM`**正常模式**，可以移动光标查看文本，按`i`进入**插入模式**，编写文本，完成编写后按`ESC` 回到**正常模式**，按`:`进入**命令模式**，输入命令`wq`保存退出

## VIM 模式

- 正常模式 (Normal-mode) 
- 插入模式 (Insert-mode)
- 命令模式 (Command-mode)
- 可视模式 (Visual-mode)


![vim-vi-workmodel](https://images.ichochy.com/vim-vi-workmodel.png)


### 正常模式
`vim filename……`打开文本进入`VIM`**正常模式**，可以移动光标查看文本，`ESC` 可以从其它模式撤回到**正常模式**，

### 插入模式
**正常模式**下按`i`，可以进输入模式，进行文本操作，按`ESC`进入**正常模式**
- `i` 光标处输入
- `I` 光标行头处输入
- `a` 光标下一个字符处输入
- `A` 光标行尾处输入
- `o` 光标向下新建行处输入
- `O` 光标向上新建行处输入
- `r` 光标处替换输入
- `R` 光标处替换输入，直到按`ESC`进入**正常模式**

### 命令模式
**正常模式**下输入`:`，可以运行命令，如：`:w`保存文件；输入`:!`可以运行系统命令，如：`:!ls`显示目录文件信息
- `:w` 保存文本
- `:w!` 强制保存文本
- `:q` 退出文本
- `:q！` 强制退出文本
- `:qw` 保存并退出文本
- `:qw` 保存并退出文本


### 可视模式
**正常模式**下按`v`，可以进选择模式，选中文本后可以按`y`复制、按`d`剪贴、按`p`粘贴，按`ESC`进入**正常模式**

- `v` 字符选择
- `V` 行选择
- `Ctrl+v` 块选择



## VIM 文本编辑
Vim 对于复制，剪切，粘贴有它自己的一套术语。复制被叫做 yank(y),剪切被叫做 delete(d)，以及粘贴被叫做 put(p)。**正常模式**按下命令完成文本编辑

### 复制
- `yy` 复制光标所在行
- `nyy` n 为数字，复制光标所在行向下 n 行，例如 20yy 则是复制 20 行
- `y1G` 复制光标所在行到第一行的所有数据
- `yG` 复制光标所在行到最后一行的所有数据
- `y0` 复制光标处到该行行首的所有数据
- `y$` 复制光标处到该行行尾的所有数据

### 剪切

- `x` 剪切光标后一个字符
- `X` 剪切光标前一个字符
- `nx` n 为数字，连续向后剪切 n 个字符，如`10x` 连续剪切 10 个字符
- `dd` 剪切光标所在行
- `ndd` n 为数字，剪切光标所在行向下 n 行，如 `20dd` 剪切 20 行
- `d1G` 剪切光标所在行到第一行的所有数据
- `dG` 剪切光标所在行到最后一行的所有数据
- `d$` 剪切光标所在处，到该行的最后一个字符
- `d0` 剪切光标所在处，到该行的最前面一个字符

### 粘贴
- `p` 光标下一行贴出
- `P` 光标上一行贴出

### 魔法
- `J` 向下合并行，合并多行为单行
- `u` 撤消操作
- `Ctrl+r` 恢复操作
- `.` 重复上一动作

## 总结
VIM 在命令模式下方便、快捷文本编辑工具，相比桌面工具上手会难一点，需要点学习成本，但命令下就是生产力

## 引用
VIM [https://www.vim.org/](https://www.vim.org/)
